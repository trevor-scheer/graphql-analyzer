# GraphQL LSP Project Configuration
projects:
  pokemon:
    schema: test-workspace/pokemon/schema.graphql
    documents: "test-workspace/pokemon/src/**/*.{graphql,gql,ts,tsx,js,jsx}"
    extensions:
      client: apollo
      lint:
        extends: recommended
        rules:
          uniqueNames: error
          requireIdField: warn

  starwars:
    schema: "test-workspace/starwars/schema.graphql"
    documents: "test-workspace/starwars/src/**/*.{graphql,gql,ts,tsx,js,jsx}"
    extensions:
      client: apollo
      lint:
        extends: recommended
        rules:
          uniqueNames: error
          requireIdField: warn

  github:
    schema:
      - "test-workspace/github/schema/*.graphql"
      - "test-workspace/github/schema/*.ts"
    documents:
      - "test-workspace/github/src/**/*.graphql"
      - "test-workspace/github/src/**/*.ts"
      - "test-workspace/github/src/**/*.tsx"
    extensions:
      client: apollo
      lint:
        extends: recommended
        rules:
          uniqueNames: error
          noDeprecated: warn
          requireIdField: [warn, { fields: ["id", "databaseId"] }]

  github-admin:
    schema: "test-workspace/github/admin/schema/*.graphql"
    documents: "test-workspace/github/admin/src/**/*.graphql"
    extensions:
      client: apollo
      lint:
        extends: recommended
        rules:
          uniqueNames: error
          noDeprecated: error
          requireIdField:
            severity: error
            options:
              fields: ["id"]

  countries:
    schema:
      url: https://countries.trevorblades.com/graphql
      timeout: 30
      retry: 2
    documents: "test-workspace/countries/src/**/*.{graphql,ts}"
    extensions:
      client: none
      lint:
        extends: recommended
        rules:
          uniqueNames: error
          requireIdField: warn

  apollo-app:
    schema:
      - test-workspace/apollo-app/schema.graphql
      - test-workspace/apollo-app/client-schema.graphql
    documents: "test-workspace/apollo-app/src/**/*.{graphql,gql,ts,tsx}"
    extensions:
      client: apollo
      lint:
        extends: recommended
        rules:
          uniqueNames: error

  schema-extensions:
    schema:
      - test-workspace/schema-extensions/schema.graphql
      - test-workspace/schema-extensions/extensions.graphql
    documents: "test-workspace/schema-extensions/src/**/*.graphql"
    extensions:
      client: none
      lint:
        extends: recommended
        rules:
          uniqueNames: error

  relay-app:
    schema: test-workspace/relay-app/schema.graphql
    documents: "test-workspace/relay-app/src/**/*.{graphql,gql,ts,tsx}"
    extensions:
      client: relay
      lint:
        extends: recommended
        rules:
          uniqueNames: error

  misconfigured-schema:
    # expect 2 errors: schema file does not exist, and documents file does not exist
    schema: "test-workspace/misconfigured-schema/schema.graphql"
    documents: "test-workspace/misconfigured-schema/query.graphql"
    extensions:
      client: none

  misconfigured-documents:
    # expect 2 errors: schema file does not exist, and documents file does not exist
    schema: "test-workspace/misconfigured-documents/schema.graphql"
    documents: "test-workspace/misconfigured-documents/query.graphql"
    extensions:
      client: none
